<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:rich="http://richfaces.org/rich"
                xmlns:a4j="http://richfaces.org/a4j">
    <a4j:outputPanel id="handleResetPanel" ajaxRendered="true">


        <h:form>
            <rich:graphValidator value="#{handlePersonAction}" id="gv">
                <rich:messages for="gv"/>
                <rich:messages globalOnly="true"/>
                <table border="0" cellpadding="3" cellspacing="3" width="50%" dir="#{me.direction}">

                    <tr valign="top">
                        <td nowrap="nowrap" align="#{me.align}">
                            <fieldset dir="#{me.direction}">
                                <legend>
                                    <h:outputText escape="true" value="#{me.getValue('change-password')}"
                                                  styleClass="richTitleText"/>
                                </legend>
                                <table border="0" cellpadding="3" cellspacing="3" width="90%" dir="#{me.direction}">
                                    <tr valign="top">
                                        <td nowrap="nowrap">
                                            <h:outputText escape="true" value="#{me.getValue('new-password')}:"
                                                          styleClass="textColor"/>
                                        </td>
                                        <td nowrap="nowrap">
                                            <h:inputSecret dir="#{me.direction}"
                                                           id="textBoxNewPassword1"
                                                           value="#{handlePersonAction.password}"
                                                           maxlength="25"
                                                           required="true"
                                                           styleClass="inputRequiredField"/>
                                            <rich:message ajaxRendered="true" for="textBoxConfirmPassword1"
                                                          showSummary="true"
                                                          showDetail="false" errorClass="errorMsg"/>
                                        </td>
                                    </tr>
                                    <tr valign="top">
                                        <td nowrap="nowrap">
                                            <h:outputText escape="true" value="#{me.getValue('confirm-password')}:"
                                                          styleClass="textColor"/>
                                        </td>
                                        <td nowrap="nowrap">
                                            <h:inputSecret dir="#{me.direction}"
                                                           id="textBoxConfirmPassword1"
                                                           value="#{handlePersonAction.rePassword}"
                                                           maxlength="25"
                                                           required="true"
                                                           styleClass="inputRequiredField"/>
                                            <rich:message ajaxRendered="true" for="textBoxConfirmPassword1"
                                                          showSummary="true"
                                                          showDetail="false" errorClass="errorMsg"/>
                                        </td>
                                    </tr>
                                    <tr valign="top">
                                        <td nowrap="nowrap" align="#{me.align}" colspan="4">
                                            <h:commandButton id="saveId"
                                                             render=" globalMessages"
                                                             execute="@form"
                                                             value="#{me.getValue('save')}"
                                                             onclick="#{rich:component('waitingPanel')}.show();"
                                                             oncomplete="#{rich:component('waitingPanel')}.hide();"
                                                             action="#{handlePersonAction.resetPassword}"/>
                                        </td>
                                    </tr>
                                </table>
                            </fieldset>
                        </td>
                    </tr>
                </table>
            </rich:graphValidator>
        </h:form>
    </a4j:outputPanel>
</ui:composition>